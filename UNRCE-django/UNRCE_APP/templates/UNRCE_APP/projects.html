{% extends "UNRCE_APP/base.html" %}

{% block content %}


<p class="small-heading"> Our Projects</p>
<button id="addNewProject"> Add Sample New Project</button>

<!-- Project Listings -->
<div class="project-grid" id="projectGrid">
    <a href="{% url 'UNRCE_APP:specific_project' %}">
        <div class="project" onclick="goToDetails(event, this.children[0].src, this.children[1].textContent)" style="cursor:pointer;">
            <img src="http://www.thewowstyle.com/wp-content/uploads/2015/01/nature-images..jpg" alt="Project 1">
            <h3 class="projectTitle">Project 1</h3>
        </div>
    </a>
    <a href="{% url 'UNRCE_APP:specific_project' %}">
        <div class="project" onclick="goToDetails(event, this.children[0].src, this.children[1].textContent)" style="cursor:pointer;">
            <img src="https://www.bwallpaperhd.com/wp-content/uploads/2021/01/NashPoint.jpg" alt="Project 2">
            <h3 class="projectTitle">Project 2</h3>
        </div>
    </a>
    <a href="{% url 'UNRCE_APP:specific_project' %}">
        <div class="project" onclick="goToDetails(event, this.children[0].src, this.children[1].textContent)" style="cursor:pointer;">
            <img src="https://wallsdesk.com/wp-content/uploads/2016/05/Waterfalls-Photos.jpg" alt="Project 3">
            <h3 class="projectTitle">Project 3</h3>
        </div>
    </a>
</div>




<!-- JavaScript to make the button work, to add new projects -->
<script>
    // Sample add a new project button
    const addProjectButton = document.getElementById("addNewProject");      // Get the button element
    const projectGrid = document.getElementById("projectGrid");             // Get the project grid element

    // Add functionality to the button
    addProjectButton.addEventListener("click", () => {
        // Create project
        const newProject = document.createElement("div");
        newProject.classList.add("project");

        // Create tag for href
        const newProjectLink = document.createElement("a");
        newProjectLink.href = "/";

        // Create image
        const newProjectImage = document.createElement("img");
        newProjectImage.src = "https://www.wallpapertip.com/wmimgs/8-82164_soothing-background.jpg"; // Replace with the actual image path
        newProjectImage.alt = "New Project";

        // Create title
        const newProjectTitle = document.createElement("h3");
        newProjectTitle.textContent = "New Project";

        // Link it all together
        newProject.appendChild(newProjectLink);
        newProject.appendChild(newProjectImage);
        newProject.appendChild(newProjectTitle); 
        
        projectGrid.appendChild(newProjectLink)     // Add the href to the project grid
        newProjectLink.appendChild(newProject);     // Add the project to the href
    })
    //Add functionality for display of image on project page 
    function goToDetails(event, imgSrc, titleText) {
        event.preventDefault(); // prevent the default action (navigating to the href)
        const modifiedHref = `{% url 'UNRCE_APP:specific_project' %}?img=` + encodeURIComponent(imgSrc) + '&title=' + encodeURIComponent(titleText);
        window.location.href = modifiedHref;
}



</script>


{% endblock content %}