{% extends "UNRCE_APP/base.html" %}

{% block main_class %}
    {% if request.path == '/' %}
        landing-main
    {% else %}
        default-main
    {% endif %}
{% endblock %}

{% load static %}

{% block content %}
<style>/* Table Styles */
    .user-interest-table {
        width: 100%; /* Ensures the container takes up the full width */
        text-align: left; /* Left-aligns the content of the container (including the table) */
        display: flex;
        padding: 2vh;
        justify-content: center;
        flex-direction: column;
        align-items: center;
    }

    .user-interest-table h5 {
        color: black;
        margin-top: 1vh;
        margin-bottom: 1vh;
    }
    
    .user-interest-table table {
        width: auto; /* Let the table take only as much width as required for the content */
        border-collapse: collapse; /* Removes double borders */
        color: #000;  /* Black text color for the whole table */
    }
    
    /* Table Headers */
    .user-interest-table th {
        background-color: #5775ac;  /* Dark background */
        color: #fff;  /* White text */
        padding: 10px;
        text-align: center;  /* Center-aligned text */
    }
    
    /* Table Cells */
    .user-interest-table td {
        padding: 10px;  /* Adds some spacing around the content in cells */
        border: 1px solid #ddd;  /* Light border around cells */
        text-align: left;  /* Left-aligned text in cells */
    }
    
    /* Even Rows (for zebra-striping) */
    .user-interest-table tr:nth-child(even) {
        background-color: #f2f2f2;  /* Light gray background */
    }
    
    /* Hover effect */
    .user-interest-table tr:hover {
        background-color: #e9e9e9;  /* Slightly darker background when hovering over a row */
    }
    
    /* Button Styles */
    button {
        margin: 10px 0; /* Some margin around the button */
        padding: 8px 12px; /* Some padding */
        cursor: pointer; /* Hand cursor on hover */
        color: #000; /* Black text color for buttons */
    }
    </style>
<div class="information">
<div class="project-container">
    <div style="margin-bottom: 1rem; display: flex; align-items: flex-end;">
        <img class="image" id="detailImage" src="{{ img_src }}" alt="Project Image">
        <div class="project-details">
            <h2 class=""id="projectTitle"></h2>
            <h5>Project Details</h5>
            <div class="info-container">
            <p style="margin: 0.2em;">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Sunt aut eos ab itaque corporis nesciunt excepturi, dolores atque nisi doloremque recusandae perspiciatis optio! Accusantium aperiam fugit rem minus omnis animi.</p>
            </div>
        </div>
    </div>
    <div style="border-spacing: 2rem; display: table; width: 100%; table-layout: fixed;">
        <div class="region-container">
            <h5 class="region-title">Region</h5>
            <div class="region">
                <p>Albany</p>
            </div>
        </div> 
        <div class="region-container">
            <h5 class="region-title">Contributing Organisations</h5>
            <div class="region">
                <p>UWA</p>
            </div>
        </div> 
        <div class="region-container">
            <h5 class="region-title">Language of Project</h5>
            <div class="region">
                <p>English, French</p>
            </div>
        </div>
    </div>    
</div>
</div>
<div class="user-interest-table">
    <!-- Button to toggle the table visibility -->
    <button onclick="toggleTableVisibility()">Show Interested Users</button>
    
    <!-- Hidden table that can be toggled via button click -->
    <div id="interestTable" style="display: none;">
        <h5>Interested Users</h5>
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Phone Number</th>
                </tr>
            </thead>
            <tbody>
                <!-- Hardcoded Rows for Visualization -->
                <tr>
                    <td>John Doe</td>
                    <td>johndoe@example.com</td>
                    <td>123-456-7890</td>
                </tr>
                <tr>
                    <td>Jane Smith</td>
                    <td>janesmith@example.com</td>
                    <td>987-654-3210</td>
                </tr>
                <tr>
                    <td>Robert Johnson</td>
                    <td>robertj@example.com</td>
                    <td>456-789-0123</td>
                </tr>
                
                <!-- Dynamically Loaded Data -->
                {% for user in interested_users %}
                <tr>
                    <td>{{ user.name }}</td>
                    <td>{{ user.email }}</td>
                    <td>{{ user.phone }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<script src="{% static 'UNRCE_APP/projects.js' %}"></script>
<script>
    function toggleTableVisibility() {
        var table = document.getElementById('interestTable');
        if (table.style.display === "none") {
            table.style.display = "block";
        } else {
            table.style.display = "none";
        }
    }
</script>

{% endblock content %}
